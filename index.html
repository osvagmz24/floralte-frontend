<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Floralte ‚Äî Ramos y eventos florales en Guadalajara</title>
  <meta name="description" content="Floralte dise√±a ramos personalizados y decoraci√≥n floral para bodas, XV a√±os, eventos empresariales y momentos importantes en Guadalajara." />
  <meta name="author" content="Floralte Dise√±o Floral" />
  <link rel="icon" href="/images/logo.png" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=Playfair+Display:ital,wght@0,600;0,700;1,700&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg:#ffffff;
      --bg-soft:#fff7fb;
      --bg-soft-2:#fef2f7;
      --ink:#222222;
      --muted:#6b7280;
      --line:#e5e7eb;
      --brand:#f472b6;     /* rosa pastel principal */
      --brand-2:#c4b5fd;   /* lila suave */
      --brand-soft:#fdf2f8;
      --accent:#f97373;
      --radius:18px;
      --shadow-soft:0 10px 25px rgba(0,0,0,.05);
      --shadow-strong:0 16px 40px rgba(0,0,0,.12);

      /* Para el m√≥dulo Arma tu ramo original */
      --color-primary:#f472b6;
      --color-primary-soft:#fdf2f8;
      --radius-xl:24px;
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      background:
        radial-gradient(circle at 0% 0%, rgba(252,231,243,.9), transparent 55%),
        radial-gradient(circle at 100% 100%, rgba(239,246,255,.8), transparent 55%),
        var(--bg);
      color:var(--ink);
      font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial;
      -webkit-font-smoothing:antialiased;
      text-rendering:optimizeLegibility;
    }
    a{color:inherit; text-decoration:none}

    /* ====== HEADER ====== */
    header{
      position:sticky; top:0; z-index:1000;
      backdrop-filter:saturate(170%) blur(14px);
      background:rgba(255,255,255,.9);
      border-bottom:1px solid rgba(248,113,170,.08);
    }
    .nav{
      max-width:1100px; margin:0 auto;
      display:flex; align-items:center; gap:12px;
      padding:10px 16px;
    }
    .brand{
      display:flex; align-items:center; gap:8px;
      cursor:pointer;
    }
    .brand-badge{
      width:34px; height:34px; border-radius:999px;
      display:grid; place-items:center;
      background:conic-gradient(from 180deg,var(--brand),var(--brand-2),var(--brand));
      box-shadow:0 8px 18px rgba(248,113,170,.35);
      font-size:18px;
    }
    .brand-title{display:flex; flex-direction:column; line-height:1;}
    .brand-title strong{font-weight:800; letter-spacing:.3px; font-size:14px;}
    .brand-title small{color:var(--muted); font-size:10px; letter-spacing:1.4px;}

    .spacer{flex:1;}

    .nav-links{
      display:none; gap:6px; align-items:center;
      background:rgba(255,255,255,.7);
      padding:4px;
      border-radius:999px;
      border:1px solid rgba(248,113,170,.25);
      box-shadow:0 10px 22px rgba(248,113,170,.18);
    }
    .nav-links a{
      position:relative;
      border-radius:999px;
      padding:6px 10px;
      font-size:12px;
      font-weight:600;
      color:var(--muted);
      transition:background .2s ease,color .2s ease,transform .15s ease;
      white-space:nowrap;
    }
    .nav-links a:hover{
      background:var(--brand-soft);
      color:#111827;
      transform:translateY(-1px);
    }
    .nav-links a.active{
      background:linear-gradient(90deg,var(--brand),var(--brand-2));
      color:#fff;
      box-shadow:0 10px 20px rgba(248,113,170,.35);
    }

    .cta{
      background:linear-gradient(135deg,var(--brand),var(--brand-2));
      border:none;
      color:#fff;
      font-weight:700;
      letter-spacing:.4px;
      padding:9px 14px;
      border-radius:999px;
      box-shadow:0 12px 26px rgba(248,113,170,.4);
      cursor:pointer;
      font-size:11px;
      text-transform:uppercase;
      display:inline-flex; align-items:center; gap:6px;
    }
    .cta span.icon{font-size:16px;}

    .menu{
      background:#fff;
      border:1px solid rgba(248,113,170,.4);
      color:#111827;
      border-radius:999px;
      padding:6px 10px;
      font-size:18px;
      cursor:pointer;
      display:flex; align-items:center; justify-content:center;
      box-shadow:0 8px 20px rgba(0,0,0,.06);
    }
    @media(min-width:960px){
      .nav-links{display:flex;}
      .menu{display:none;}
    }

    /* MOBILE NAV OVERLAY */
    #mobileNav{
      display:none;
      position:fixed;
      inset:0;
      background:rgba(255,255,255,.96);
      z-index:900;
      padding:70px 20px 20px;
    }
    #mobileNav.open{display:block;}
    #mobileNav ul{
      list-style:none; margin:0; padding:0;
      display:flex; flex-direction:column; gap:12px;
    }
    #mobileNav a{
      display:flex; justify-content:space-between; align-items:center;
      padding:12px 14px;
      border-radius:14px;
      border:1px solid var(--line);
      background:#fff;
      font-size:14px;
      font-weight:600;
      color:#111827;
      box-shadow:0 10px 24px rgba(0,0,0,.04);
    }

    /* ====== HERO ====== */
    .hero{
      position:relative;
      overflow:hidden;
    }
    .hero::before{
      content:""; position:absolute; inset:-30%;
      background:
        radial-gradient(circle at 0% 0%, rgba(248,187,208,.7), transparent 55%),
        radial-gradient(circle at 100% 100%, rgba(221,214,254,.6), transparent 55%);
      opacity:.6; pointer-events:none;
    }
    .hero-wrap{
      position:relative;
      max-width:1100px; margin:0 auto;
      padding:40px 16px 40px;
      display:grid; gap:24px;
    }
    @media(min-width:960px){
      .hero-wrap{
        grid-template-columns:1.1fr .9fr;
        align-items:center;
        padding:70px 16px 60px;
      }
    }

    .kicker{
      display:inline-flex; gap:8px; align-items:center;
      font-size:11px;
      color:var(--muted);
      padding:4px 10px;
      border-radius:999px;
      background:rgba(255,255,255,.9);
      border:1px solid rgba(248,113,170,.4);
      box-shadow:0 8px 20px rgba(248,113,170,.18);
    }
    .k-dot{
      width:8px; height:8px; border-radius:50%;
      background:linear-gradient(135deg,var(--brand),var(--brand-2));
    }
    h1{
      margin:16px 0 10px;
      font-size:30px;
      line-height:1.05;
      font-weight:800;
      letter-spacing:-.5px;
      font-family:"Playfair Display",serif;
      color:#111827;
    }
    @media(min-width:960px){
      h1{font-size:46px;}
    }
    .hero-copy{
      color:var(--muted);
      font-size:14px;
      max-width:520px;
    }
    .hero-copy strong{color:#111827;}
    .hero-actions{
      display:flex; flex-wrap:wrap; gap:10px;
      margin-top:18px;
    }
    .btn{
      display:inline-flex; align-items:center; gap:6px;
      padding:10px 14px;
      border-radius:999px;
      border:1px solid var(--line);
      background:#ffffff;
      color:#111827;
      font-weight:600;
      cursor:pointer;
      font-size:12px;
      box-shadow:0 6px 14px rgba(0,0,0,.03);
    }
    .btn span.icon{font-size:16px;}
    .btn:hover{
      background:var(--bg-soft);
      transform:translateY(-1px);
    }
    .btn-primary{
      background:linear-gradient(135deg,var(--brand),var(--brand-2));
      border:none;
      color:#fff;
      box-shadow:var(--shadow-strong);
    }

    .hero-panel{
      background:rgba(255,255,255,.92);
      border-radius:22px;
      padding:14px 16px 12px;
      border:1px solid rgba(248,113,170,.35);
      box-shadow:0 14px 35px rgba(248,113,170,.18);
      position:relative;
      overflow:hidden;
    }
    .hero-panel::before{
      content:""; position:absolute; inset:-30%;
      background:radial-gradient(circle at 0 0,rgba(248,187,208,.8),transparent 60%);
      opacity:.4; pointer-events:none;
    }
    .hero-panel h3{
      margin:4px 0 4px;
      font-size:16px; font-weight:700; color:#111827;
    }
    .hero-tag{
      display:inline-flex; align-items:center; gap:6px;
      font-size:11px;
      background:var(--brand-soft);
      border-radius:999px;
      padding:4px 10px;
      border:1px solid rgba(248,113,170,.35);
      color:#9f1239;
    }
    .row{
      display:flex; align-items:center; gap:6px; flex-wrap:wrap;
    }
    .mini{font-size:12px; color:var(--muted);}

    /* HERO GALER√çA LADO DERECHO */
    .hero-gallery{
      position:relative;
      padding:8px;
    }
    .hero-card{
      border-radius:24px;
      background:#fff;
      padding:10px;
      box-shadow:var(--shadow-soft);
      border:1px solid var(--line);
      position:relative;
      overflow:hidden;
    }
    .hero-main-img{
      border-radius:18px;
      overflow:hidden;
      position:relative;
    }
    .hero-main-img img{
      width:100%; height:240px;
      object-fit:cover;
      display:block;
      transform:scale(1.02);
      transition:transform 4s ease-out;
    }
    .hero-main-img::after{
      content:"";
      position:absolute; inset:0;
      background:linear-gradient(to top,rgba(0,0,0,.25),transparent 40%);
    }
    .hero-card:hover .hero-main-img img{
      transform:scale(1.06);
    }
    .hero-chip-wrap{
      position:absolute;
      left:18px; bottom:18px;
      display:flex; flex-direction:column; gap:4px;
      color:#fff;
      z-index:1;
    }
    .hero-chip{
      display:inline-flex; align-items:center; gap:6px;
      padding:4px 10px;
      border-radius:999px;
      background:rgba(0,0,0,.55);
      font-size:11px;
    }
    .hero-chip span.dot{
      width:7px; height:7px; border-radius:50%;
      background:var(--brand);
    }
    .hero-caption{
      margin-top:10px;
      font-size:12px;
      color:var(--muted);
    }

    /* SECCIONES GENERALES */
    section{padding:46px 16px;}
    .container{max-width:1100px; margin:0 auto;}
    .section-head{
      display:flex; justify-content:space-between; align-items:flex-end;
      gap:12px;
      margin-bottom:16px;
      flex-wrap:wrap;
    }
    .section-head h2{
      margin:0;
      font-size:20px;
      font-weight:800;
      color:#111827;
    }
    .section-head p{
      margin:4px 0 0;
      color:var(--muted);
      font-size:13px;
    }
    .pill-label{
      font-size:11px;
      text-transform:uppercase;
      letter-spacing:1.4px;
      color:var(--muted);
    }

    .card{
      background:#ffffff;
      border-radius:var(--radius);
      border:1px solid var(--line);
      box-shadow:var(--shadow-soft);
    }

    /* CAT√ÅLOGO */
    .carousel{
      position:relative; overflow:hidden; border-radius:20px;
    }
    .carousel img{
      width:100%; height:260px; object-fit:cover; display:block;
      transition:transform .6s ease;
    }
    .carousel:hover img{transform:scale(1.03);}
    .car-nav{
      position:absolute; inset:0;
      display:flex; justify-content:space-between; align-items:center;
      padding:0 10px;
      pointer-events:none;
    }
    .car-btn{
      width:32px; height:32px;
      border-radius:999px;
      display:grid; place-items:center;
      background:rgba(255,255,255,.9);
      border:1px solid var(--line);
      cursor:pointer;
      pointer-events:auto;
      font-size:18px;
      box-shadow:0 8px 20px rgba(0,0,0,.08);
    }
    .thumbs{
      display:flex; gap:8px; padding:10px;
      overflow-x:auto;
      scrollbar-width:none;
    }
    .thumbs::-webkit-scrollbar{display:none;}
    .thumbs img{
      width:82px; height:60px;
      border-radius:14px;
      object-fit:cover;
      opacity:.45;
      border:2px solid transparent;
      cursor:pointer;
      flex:0 0 auto;
    }
    .thumbs img.active{
      opacity:1;
      border-color:var(--brand);
      box-shadow:0 8px 18px rgba(248,113,170,.25);
    }

    /* ========= TITULITOS PARA EL BUILDER VIEJO ========= */
    .section-header{
      text-align:center;
      margin-bottom:26px;
    }
    .section-header p{
      max-width:640px;
      margin:0 auto;
      font-size:13px;
      color:var(--muted);
    }
    .section-tag{
      font-size:11px;
      text-transform:uppercase;
      letter-spacing:1.6px;
      color:var(--brand);
      font-weight:600;
      margin-bottom:6px;
    }
    .section-divider{
      width:60px;
      height:3px;
      margin:12px auto 0;
      border-radius:999px;
      background:linear-gradient(90deg,#f9a8d4,#e9d5ff);
    }

    /* ========= ARMA TU RAMO (versi√≥n original) ========= */

    #builder{
      background:#fff;
    }

    .builder-grid{
      display:flex;
      flex-direction:column;
      gap:18px;
    }

    .builder-panel{
      background:#fff7fb;
      border-radius:var(--radius-xl);
      padding:16px 16px 18px;
      box-shadow:var(--shadow-soft);
    }

    .builder-panel p{
      font-size:13px;
      color:var(--muted);
    }

    .builder-flowers{
      margin-top:10px;
      display:grid;
      grid-template-columns:minmax(0,1fr);
      gap:12px;
    }

    .flor-card{
      background:#fff;
      border-radius:18px;
      padding:10px 12px 12px;
      box-shadow:0 6px 16px rgba(0,0,0,0.06);
      display:flex;
      flex-direction:column;
      gap:6px;
      transition:transform 0.15s ease, box-shadow 0.15s ease;
    }

    .flor-card:hover{
      transform:translateY(-2px);
      box-shadow:0 10px 22px rgba(0,0,0,0.12);
    }

    .flor-header{
      display:flex;
      align-items:center;
      gap:10px;
      margin-bottom:6px;
    }

    .flor-image-wrap{
      flex:0 0 64px;
      height:64px;
      border-radius:14px;
      overflow:hidden;
      background:#f9f0f5;
      box-shadow:0 4px 10px rgba(0,0,0,0.06);
    }

    .flor-image-wrap img.flor-image{
      width:100%;
      height:100%;
      object-fit:cover;
      display:block;
    }

    .flor-name{
      font-weight:600;
      font-size:15px;
      color:#7b3f5e;
    }

    .flor-precio{
      font-size:13px;
      color:#777;
    }

    .flor-controls{
      display:flex;
      flex-wrap:wrap;
      gap:8px;
      align-items:center;
      margin-top:4px;
    }

    .flor-controls label{
      font-size:11px;
      color:#666;
    }

    .flor-select,
    .flor-qty{
      border-radius:999px;
      border:1px solid #ddd;
      padding:5px 9px;
      font-size:13px;
      background:#fff;
    }

    .flor-qty{width:70px;}

    .btn-add{
      border-radius:999px;
      border:none;
      background:var(--color-primary);
      color:#fff;
      padding:7px 12px;
      font-size:12px;
      font-weight:600;
      cursor:pointer;
      margin-left:auto;
      display:inline-flex;
      align-items:center;
      gap:4px;
      box-shadow:0 6px 16px rgba(209,79,123,0.3);
      transition:
        background 0.15s ease,
        transform 0.15s ease,
        box-shadow 0.15s ease;
    }

    .btn-add:hover{
      background:#fb7185;
      transform:translateY(-1px);
      box-shadow:0 9px 20px rgba(209,79,123,0.4);
    }

    .btn-add:active{
      transform:translateY(0);
      box-shadow:0 4px 10px rgba(209,79,123,0.3);
    }

    .builder-summary{
      display:flex;
      flex-direction:column;
      gap:10px;
    }

    .summary-list{
      max-height:260px;
      overflow-y:auto;
      background:#fff;
      border-radius:14px;
      padding:10px 12px;
      border:1px solid #f1c8da;
    }

    .summary-empty{
      font-size:13px;
      color:#777;
    }

    .summary-item{
      display:flex;
      justify-content:space-between;
      align-items:flex-start;
      font-size:13px;
      padding:4px 0;
      border-bottom:1px dashed #f1d2df;
      gap:8px;
    }

    .summary-item:last-child{border-bottom:none;}

    .summary-item small{color:#777;}

    .summary-thumb{
      width:40px;
      height:40px;
      border-radius:12px;
      overflow:hidden;
      background:#fdf3f8;
      flex-shrink:0;
    }

    .summary-thumb img{
      width:100%;
      height:100%;
      object-fit:cover;
      display:block;
    }

    .summary-total{
      display:flex;
      justify-content:space-between;
      align-items:center;
      font-weight:600;
      margin-top:6px;
      font-size:15px;
    }

    .summary-actions{
      margin-top:10px;
      display:flex;
      flex-wrap:wrap;
      gap:10px;
    }

    .btn-secondary{
      border-radius:999px;
      border:1px solid #ccc;
      background:#fff;
      padding:8px 14px;
      font-size:13px;
      cursor:pointer;
      transition:
        background 0.15s ease,
        transform 0.15s ease,
        box-shadow 0.15s ease;
    }

    .btn-secondary:hover{
      background:#fdf3f8;
      transform:translateY(-1px);
      box-shadow:0 8px 18px rgba(0,0,0,0.06);
    }

    .btn-secondary:active{transform:translateY(0);}

    .btn-whatsapp{
      border-radius:999px;
      border:none;
      background:#25d366;
      color:#fff;
      padding:9px 16px;
      font-size:14px;
      font-weight:600;
      cursor:pointer;
      display:inline-flex;
      align-items:center;
      gap:6px;
      box-shadow:0 10px 24px rgba(0,0,0,0.24);
      transition:
        background 0.15s ease,
        transform 0.15s ease,
        box-shadow 0.15s ease;
    }

    .btn-whatsapp:hover{
      background:#1ebe5a;
      transform:translateY(-1px);
      box-shadow:0 14px 28px rgba(0,0,0,0.28);
    }

    .btn-whatsapp:active{transform:translateY(0);}

    .builder-note{
      font-size:11px;
      color:#777;
      margin-top:6px;
    }

    .preview-card{
      margin-top:14px;
      background:#fff;
      border-radius:18px;
      padding:12px 12px 14px;
      border:1px dashed #f1c8da;
    }

    .preview-card h4{
      font-size:16px;
      margin-bottom:6px;
      font-style:normal;
    }

    .preview-card p{
      font-size:12px;
      color:#666;
      margin-bottom:8px;
    }

    .preview-image-wrapper{
      margin-top:10px;
      display:none;
      flex-direction:column;
      gap:8px;
    }

    .preview-image-wrapper.show{display:flex;}

    .preview-loading{
      font-size:12px;
      color:#777;
    }

    .preview-image-wrapper img{
      width:100%;
      border-radius:14px;
      max-height:260px;
      object-fit:cover;
      box-shadow:var(--shadow-soft);
    }

    .preview-hint{
      font-size:11px;
      color:#888;
    }

    /* ========= ANIMACI√ìN +1 ========= */
    @keyframes popPlus{
      0%{opacity:0; transform:translate(-50%,0) scale(.8);}
      40%{opacity:1; transform:translate(-50%,-14px) scale(1);}
      100%{opacity:0; transform:translate(-50%,-28px) scale(.9);}
    }

    .plus-one-pop{
      position:absolute;
      pointer-events:none;
      transform:translate(-50%,0);
      background:#ffffff;
      padding:2px 8px;
      border-radius:999px;
      font-size:13px;
      color:#d14f7b;
      box-shadow:0 6px 16px rgba(0,0,0,0.18);
      z-index:1200;
      animation:popPlus 0.6s ease-out forwards;
    }

    /* ========= OVERLAY RAMO EN PROGRESO (M√ìVIL) ========= */
    .ramo-overlay{
      position:fixed;
      left:12px;
      right:12px;
      bottom:80px;
      background:#ffffff;
      border-radius:999px;
      box-shadow:0 12px 28px rgba(0,0,0,0.18);
      padding:10px 14px;
      display:none;
      z-index:999;
    }

    .ramo-overlay-inner{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:8px;
      font-size:13px;
    }

    .ramo-overlay-main{
      display:flex;
      flex-direction:column;
      gap:2px;
    }

    .ramo-overlay-title{
      font-weight:600;
      color:#7b3f5e;
      font-size:13px;
    }

    .ramo-overlay-detail{
      font-size:12px;
      color:#666;
    }

    .ramo-overlay-btn{
      border-radius:999px;
      border:none;
      background:var(--color-primary);
      color:#fff;
      padding:7px 10px;
      font-size:12px;
      font-weight:600;
      cursor:pointer;
      white-space:nowrap;
      transition:
        background 0.15s ease,
        transform 0.15s ease,
        box-shadow 0.15s ease;
      box-shadow:0 8px 18px rgba(209,79,123,0.4);
    }

    .ramo-overlay-btn:hover{
      background:#fb7185;
      transform:translateY(-1px);
      box-shadow:0 10px 22px rgba(209,79,123,0.5);
    }

    .ramo-overlay-btn:active{transform:translateY(0);}

    .ramo-overlay.show{display:block;}

    /* EVENTOS */
    .events{
      position:relative;
      overflow:hidden;
    }
    .events-bg{
      position:absolute; inset:0;
      background-position:center;
      background-size:cover;
      opacity:.12;
      transition:opacity .4s ease,transform .6s ease;
      pointer-events:none;
      filter:saturate(1.03);
      mix-blend-mode:multiply;
    }
    .events-inner{position:relative;}

    .events-grid{
      display:grid; gap:10px;
    }
    @media(min-width:900px){
      .events-grid{
        grid-template-columns:repeat(3,minmax(0,1fr));
      }
    }
    .event{
      position:relative;
      border-radius:18px;
      border:1px solid #f3e8ff;
      background:#ffffff;
      padding:12px;
      min-height:130px;
      overflow:hidden;
      cursor:pointer;
      box-shadow:0 8px 20px rgba(0,0,0,.03);
      transition:box-shadow .2s ease, transform .18s ease, border-color .2s ease, background .2s ease;
    }
    .event[data-bg]::before{
      content:""; position:absolute; inset:0;
      background-image:var(--bg-img);
      background-size:cover; background-position:center;
      opacity:0;
      transition:opacity .35s ease, transform .5s ease;
      transform:scale(1.04);
      filter:saturate(1.05);
    }
    .event .tag{
      font-size:11px;
      padding:3px 8px;
      border-radius:999px;
      background:var(--brand-soft);
      border:1px solid rgba(248,113,170,.35);
      color:#9f1239;
      display:inline-flex; align-items:center; gap:5px;
      margin-bottom:4px;
    }
    .event h4{
      margin:0 0 4px;
      font-size:15px;
      font-weight:700;
      color:#111827;
    }
    .event small{
      font-size:12px;
      color:var(--muted);
    }
    .event:hover{
      box-shadow:0 16px 40px rgba(0,0,0,.12);
      transform:translateY(-2px);
      border-color:var(--brand);
      background:#fff7fb;
    }
    .event:hover::before{
      opacity:.26;
      transform:scale(1);
    }
    .event.on{
      border-color:var(--brand);
      background:#fff7fb;
    }

    .events-copy{
      margin-top:14px;
      display:grid; gap:10px;
    }
    .why{
      background:#ffffff;
      border-radius:18px;
      padding:14px;
      border:1px solid var(--line);
      box-shadow:var(--shadow-soft);
    }
    .why ul{
      margin:8px 0 0 18px;
      padding:0;
      font-size:13px;
      color:var(--muted);
    }
    .why li{margin-bottom:4px;}

    /* CONTACTO */
    .contact-grid{
      display:grid; gap:14px;
    }
    @media(min-width:900px){
      .contact-grid{
        grid-template-columns:1fr 1fr;
      }
    }
    .field{
      display:flex; flex-direction:column; gap:5px;
      margin-bottom:8px;
    }
    label{
      font-size:12px;
      color:var(--muted);
    }
    .field input,
    .field textarea,
    .field select{
      background:#f9fafb;
      border:1px solid #e5e7eb;
      border-radius:12px;
      padding:9px 11px;
      font:inherit;
      font-size:13px;
      color:#111827;
    }

    /* NOSOTROS */
    .about-text{
      font-size:14px;
      color:var(--muted);
      line-height:1.6;
    }

    footer{
      border-top:1px solid #f3f4f6;
      padding:20px 16px 24px;
      font-size:12px;
      color:var(--muted);
      text-align:center;
    }

    /* ANIMACIONES ENTRADA SUAVE */
    @keyframes fadeUp{
      from{opacity:0; transform:translateY(16px);}
      to{opacity:1; transform:translateY(0);}
    }
    .a-fade{
      opacity:0;
      animation:fadeUp .7s ease-out forwards;
    }
    .a-delay-1{animation-delay:.1s;}
    .a-delay-2{animation-delay:.2s;}
    .a-delay-3{animation-delay:.3s;}
    .a-delay-4{animation-delay:.4s;}

    @media(min-width:600px){
      .builder-flowers{
        grid-template-columns:repeat(2,minmax(0,1fr));
      }
    }

    @media(min-width:960px){
      section{padding-top:54px; padding-bottom:54px;}
      .builder-grid{
        flex-direction:row;
      }
    }
  </style>
</head>
<body>
  <!-- MOBILE NAV -->
  <div id="mobileNav">
    <ul>
      <li><a href="#top" onclick="closeMobileNav()">Inicio <span>‚åÑ</span></a></li>
      <li><a href="#catalogo" onclick="closeMobileNav()">Galer√≠a</a></li>
      <li><a href="#builder" onclick="closeMobileNav()">Arma tu ramo</a></li>
      <li><a href="#eventos" onclick="closeMobileNav()">Eventos</a></li>
      <li><a href="#contacto" onclick="closeMobileNav()">Contacto</a></li>
      <li><a href="#nosotros" onclick="closeMobileNav()">Nosotros</a></li>
    </ul>
  </div>

  <!-- HEADER -->
  <header>
    <nav class="nav">
      <div class="brand" onclick="scrollToId('top')">
        <div class="brand-badge">üå∏</div>
        <div class="brand-title">
          <strong>FLORALTE</strong>
          <small>DISE√ëO FLORAL ‚Ä¢ GDL</small>
        </div>
      </div>
      <div class="spacer"></div>
      <div class="nav-links" id="navLinks">
        <a href="#top" class="active">Inicio</a>
        <a href="#catalogo">Galer√≠a</a>
        <a href="#builder">Arma tu ramo</a>
        <a href="#eventos">Eventos</a>
        <a href="#contacto">Contacto</a>
      </div>
      <button class="cta hide-on-mobile" onclick="scrollToId('builder')">
        <span class="icon">üíê</span> Crear ramo
      </button>
      <button class="menu" onclick="toggleMobileNav()">‚ò∞</button>
    </nav>
  </header>

  <!-- HERO -->
  <main id="top" class="hero">
    <div class="hero-wrap">
      <div>
        <div class="kicker a-fade">
          <span class="k-dot"></span>
          Ramos y ambientaciones pensadas para personas reales
        </div>
        <h1 class="a-fade a-delay-1">
          Flores que cuentan tu historia, no solo decoran tu evento.
        </h1>
        <p class="hero-copy a-fade a-delay-2">
          En Floralte dise√±amos ramos y espacios florales con intenci√≥n: escuchamos lo que quieres transmitir
          y lo traducimos en color, textura y forma. Desde un detalle sorpresa hasta una boda completa,
          estamos en <strong>Guadalajara y alrededores</strong> para acompa√±ar tus momentos importantes.
        </p>
        <div class="hero-actions a-fade a-delay-3">
          <button class="btn-primary btn" onclick="scrollToId('builder')">
            <span class="icon">üå∑</span> Armar mi ramo
          </button>
          <button class="btn" onclick="scrollToId('eventos')">
            <span class="icon">üéâ</span> Ver eventos
          </button>
        </div>

        <div class="hero-panel a-fade a-delay-4" style="margin-top:18px;">
          <div class="hero-tag">
            <span>‚è±Ô∏è</span> Respuesta r√°pida por WhatsApp
          </div>
          <h3>Floralte ¬∑ Estudio floral en Guadalajara</h3>
          <div class="row mini">
            <span>üìç</span>
            <span>Av. Ni√±os H√©roes 74, Rancho Blanco, Tlaquepaque</span>
          </div>
          <div class="row mini" style="margin-top:4px;">
            <span>üì≤</span>
            <a href="https://wa.me/523336611674" target="_blank" rel="noopener">+52 33 3661 1674</a>
          </div>
          <div class="row mini" style="margin-top:4px;">
            <span>üïò</span>
            <span>Lun‚ÄìS√°b ¬∑ 10:00‚Äì19:00</span>
          </div>
        </div>
      </div>

      <!-- Lado derecho: mini galer√≠a hero -->
      <div class="hero-gallery a-fade a-delay-3">
        <div class="hero-card">
          <div class="hero-main-img">
            <img src="images/ram1.jpg" alt="Arreglo floral Floralte" />
            <div class="hero-chip-wrap">
              <div class="hero-chip">
                <span class="dot"></span> Inspirado en tus colores favoritos
              </div>
              <div class="hero-chip">
                <span>üì∏</span> Fotos reales de nuestro trabajo
              </div>
            </div>
          </div>
          <p class="hero-caption">
            Trabajamos con flores frescas de <strong>Flores Chiltepec</strong> y armamos cada ramo uno por uno,
            sin producci√≥n en serie. Lo que ves aqu√≠ es parte de lo que hemos creado para nuestros clientes.
          </p>
        </div>
      </div>
    </div>
  </main>

  <!-- CAT√ÅLOGO -->
  <section id="catalogo">
    <div class="container">
      <div class="section-head">
        <div>
          <div class="pill-label">Galer√≠a</div>
          <h2>Un vistazo a lo que hacemos</h2>
          <p>D√©jate inspirar por algunos ramos y arreglos, luego adaptamos el dise√±o a tu historia.</p>
        </div>
        <button class="btn" onclick="scrollToId('builder')">Quiero personalizar un ramo ‚Üí</button>
      </div>

      <div class="card">
        <div class="carousel">
          <img id="car-main" src="images/ram1.jpg" alt="Arreglo destacado Floralte" />
          <div class="car-nav">
            <button class="car-btn" onclick="carGo(-1)">‚Äπ</button>
            <button class="car-btn" onclick="carGo(1)">‚Ä∫</button>
          </div>
        </div>
        <div id="thumbs" class="thumbs"></div>
      </div>
    </div>
  </section>

  <!-- ARMA TU RAMO (versi√≥n original) -->
  <section id="builder">
    <div class="container">
      <div class="section-header">
        <div class="section-tag">Personaliza tu dise√±o</div>
        <h2>Arma tu ramo Floralte</h2>
        <p>
          Elige el tipo de flor, color y cantidad. Nosotros nos encargamos de que se
          vea armonioso, fresco y con el sello Floralte. Este c√°lculo es aproximado
          y sirve como base para tu cotizaci√≥n.
        </p>
        <div class="section-divider"></div>
      </div>

      <div class="builder-grid">
        <!-- Panel flores -->
        <div class="builder-panel">
          <h3>1. Elige tus flores</h3>
          <p>
            Selecciona el tipo de flor, el color (si aplica) y la cantidad de tallos.
            Puedes combinar varias flores en el mismo ramo.
          </p>

          <div id="builder-flowers" class="builder-flowers">
            <!-- JS inyecta las tarjetas de flores -->
          </div>
        </div>

        <!-- Panel resumen -->
        <div class="builder-panel">
          <div class="builder-summary">
            <div>
              <h3>2. Tu ramo en progreso</h3>
              <p>Revisa la composici√≥n y el aproximado del ramo que est√°s creando.</p>
            </div>

            <div id="summary-list" class="summary-list">
              <div class="summary-empty">
                A√∫n no has agregado flores. Empieza eligiendo una en el panel de la izquierda.
              </div>
            </div>

            <div class="summary-total">
              <span>Total aproximado</span>
              <span id="summary-total">$0 MXN</span>
            </div>

            <div class="summary-actions">
              <button id="btn-clear-ramo" class="btn-secondary" type="button">
                Limpiar ramo completo
              </button>

              <button id="btn-whatsapp" class="btn-whatsapp" type="button">
                <span>üì≤</span> Enviar a WhatsApp
              </button>
            </div>

            <div class="builder-note">
              * Los precios son aproximados por tallo y pueden variar seg√∫n temporada.
              Al enviarnos tu selecci√≥n, te confirmamos disponibilidad y cotizaci√≥n final.
            </div>

            <!-- PREVIEW IA -->
            <div class="preview-card">
              <h4>Preview de tu ramo con IA</h4>
              <p>
                Cuando termines de armar tu ramo, genera un preview ilustrativo para ver
                c√≥mo podr√≠a verse el dise√±o.
              </p>
              <button id="btn-preview" class="btn-secondary" type="button">
                Generar preview IA
              </button>

              <div id="preview-wrapper" class="preview-image-wrapper">
                <div id="preview-loading" class="preview-loading">
                  Generando preview a partir de tu selecci√≥n...
                </div>
                <img id="preview-image" alt="Preview de tu ramo Floralte">
                <div class="preview-hint">
                  Esta imagen es una representaci√≥n aproximada generada a partir de tus flores
                  seleccionadas. El dise√±o final puede variar.
                </div>
              </div>
            </div>

          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- EVENTOS -->
  <section id="eventos" class="events">
    <div id="eventsBg" class="events-bg"></div>
    <div class="container events-inner">
      <div class="section-head">
        <div>
          <div class="pill-label">Eventos</div>
          <h2>Eventos florales pensados de principio a fin</h2>
          <p>M√°s que centros de mesa: ambientamos el espacio para que se sienta tu esencia.</p>
        </div>
      </div>

      <div class="events-grid">
        <div class="event" data-key="bodas" style="--bg-img:url('images/ram4.jpg')" data-bg>
          <div class="tag"><span>üíç</span> Bodas</div>
          <h4>Escenarios para decir ‚Äús√≠‚Äù</h4>
          <small>Ramo de novia, altar, mesa de novios y detalles que se ven incre√≠bles en foto, pero se sienten a√∫n mejor en persona.</small>
        </div>

        <div class="event" data-key="xv" style="--bg-img:url('images/ram12.jpg')" data-bg>
          <div class="tag"><span>üëë</span> XV A√±os</div>
          <h4>Flores para una noche √∫nica</h4>
          <small>Paletas juveniles, mesa principal, photo spots y detalles que hacen que la quincea√±era se sienta protagonista.</small>
        </div>

        <div class="event" data-key="empresarial" style="--bg-img:url('images/ar8.jpg')" data-bg>
          <div class="tag"><span>üè¢</span> Empresariales</div>
          <h4>Eventos con imagen cuidada</h4>
          <small>Recepciones, conferencias y cenas donde el arreglo floral respeta tu marca y eleva el espacio.</small>
        </div>

        <div class="event" data-key="pedidas" style="--bg-img:url('images/ram2.jpg')" data-bg>
          <div class="tag"><span>üíó</span> Pedidas de mano</div>
          <h4>Momentos √≠ntimos, flores cuidadas</h4>
          <small>Arcos, p√©talos, ramos y peque√±os detalles que hacen de la pregunta un recuerdo inolvidable.</small>
        </div>

        <div class="event" data-key="graduaciones" style="--bg-img:url('images/ram1.jpg')" data-bg>
          <div class="tag"><span>üéì</span> Graduaciones</div>
          <h4>Celebrar todo el camino</h4>
          <small>Escenarios para fotos, arreglos para escenario y ramos para entregar al final de la ceremonia.</small>
        </div>

        <div class="event" data-key="funebres" style="--bg-img:url('images/ar10.jpg')" data-bg>
          <div class="tag"><span>üïäÔ∏è</span> Despedidas</div>
          <h4>Flores con respeto y calma</h4>
          <small>Coronas y arreglos sobrios, pensados para acompa√±ar y honrar la memoria con serenidad.</small>
        </div>
      </div>

      <div class="events-copy">
        <div class="why">
          <strong>Lo que cuidamos en cada evento</strong>
          <ul>
            <li>Escuchamos tu idea, presupuesto y estilo antes de proponer dise√±o.</li>
            <li>Trabajamos con flores frescas de <strong>Flores Chiltepec</strong> y selecci√≥n cuidadosa.</li>
            <li>Coordinamos montaje, horarios y log√≠stica para que t√∫ no te preocupes por nada.</li>
            <li>Te compartimos fotos, ajustes y avances por WhatsApp para que te sientas acompa√±ado.</li>
          </ul>
        </div>
        <div class="row">
          <button class="btn btn-primary" onclick="whats('Hola Floralte, quiero una cotizaci√≥n para mi evento.')">
            Solicitar cotizaci√≥n
          </button>
          <button class="btn" onclick="scrollToId('catalogo')">Ver m√°s fotos</button>
        </div>
      </div>
    </div>
  </section>

  <!-- CONTACTO -->
  <section id="contacto">
    <div class="container">
      <div class="section-head">
        <div>
          <div class="pill-label">Contacto</div>
          <h2>Platiquemos de tu idea</h2>
          <p>Cu√©ntanos qu√© sue√±as y vemos juntos c√≥mo bajarlo a flores, colores y formas.</p>
        </div>
      </div>

      <div class="contact-grid">
        <div class="card" style="padding:14px;">
          <p class="mini">WhatsApp directo</p>
          <h3 style="margin:6px 0 4px; font-size:18px; color:#111827;">+52 33 3661 1674</h3>
          <div class="row mini">
            <span>üìç</span>
            <span>Av. Ni√±os H√©roes 74, Rancho Blanco, Tlaquepaque</span>
          </div>
          <div class="row mini" style="margin-top:4px;">
            <span>üïò</span>
            <span>Lun‚ÄìS√°b ¬∑ 10:00‚Äì19:00</span>
          </div>
          <div class="row" style="margin-top:10px;">
            <button class="btn-primary btn" onclick="whats('Hola Floralte, quiero hacer un pedido.')">
              Abrir WhatsApp
            </button>
          </div>
        </div>

        <form class="card" style="padding:14px;" onsubmit="event.preventDefault(); whats('Hola Floralte, env√≠o mis datos desde el formulario de la p√°gina.');">
          <div class="field">
            <label>Nombre</label>
            <input placeholder="Tu nombre" required>
          </div>
          <div class="field">
            <label>WhatsApp</label>
            <input placeholder="33 1234 5678" required>
          </div>
          <div class="field">
            <label>Tipo de servicio</label>
            <select>
              <option>Ramo / detalle</option>
              <option>Evento social (boda, XV)</option>
              <option>Evento empresarial</option>
              <option>Decoraci√≥n en casa/oficina</option>
            </select>
          </div>
          <div class="field">
            <label>Cu√©ntanos un poco</label>
            <textarea rows="4" placeholder="Fecha, lugar, estilo que buscas, paleta de color, presupuesto aproximado‚Ä¶"></textarea>
          </div>
          <button class="btn-primary btn" type="submit">Enviar por WhatsApp</button>
        </form>
      </div>
    </div>
  </section>

  <!-- NOSOTROS -->
  <section id="nosotros">
    <div class="container">
      <div class="section-head">
        <div>
          <div class="pill-label">Nosotros</div>
          <h2>Floralte por dentro</h2>
          <p>Un taller peque√±o, ideas grandes y muchas ganas de que te vaya bien.</p>
        </div>
      </div>

      <div class="card" style="padding:14px;">
        <p class="about-text">
          Floralte nace de la idea de que las flores no son solo ‚Äúarreglos bonitos‚Äù, sino un lenguaje
          para decir lo que a veces no sabemos poner en palabras. Escuchamos lo que quieres comunicar:
          amor, agradecimiento, apoyo, celebraci√≥n‚Ä¶ y lo transformamos en combinaciones de flores,
          texturas y alturas.
        </p>
        <p class="about-text" style="margin-top:8px;">
          Trabajamos cada evento como si fuera el nuestro: revisando detalles, horarios y montaje para
          que el d√≠a importante t√∫ est√©s enfocado en vivirlo, no en coordinar flores. Nos emociona acompa√±ar
          desde pedidas y bodas hasta graduaciones y despedidas, sabiendo que en cada una hay una historia detr√°s.
        </p>
      </div>
    </div>
  </section>

  <footer>
    ¬© <span id="year"></span> Floralte Dise√±o Floral ‚Äî Hecho con üíê en Guadalajara
  </footer>

  <!-- OVERLAY RAMO EN PROGRESO -->
  <div id="ramo-overlay" class="ramo-overlay">
    <div class="ramo-overlay-inner">
      <div class="ramo-overlay-main">
        <div class="ramo-overlay-title">Ramo en progreso</div>
        <div id="ramo-overlay-detail" class="ramo-overlay-detail">
          A√∫n no has agregado flores.
        </div>
      </div>
      <button id="ramo-overlay-btn" class="ramo-overlay-btn" type="button">
        Ver detalle
      </button>
    </div>
  </div>

  <script>
    const $ = (s,p=document)=>p.querySelector(s);
    const $$ = (s,p=document)=>[...p.querySelectorAll(s)];

    // A√±o en footer
    $('#year').textContent = new Date().getFullYear();

    function scrollToId(id){
      document.getElementById(id)?.scrollIntoView({behavior:'smooth'});
    }

    // NAV ACTIVO
    function setActiveNav(){
      const links = $$('#navLinks a');
      const sections = ['top','catalogo','builder','eventos','contacto'];
      let current = 'top';
      const scrollPos = window.scrollY + 120;
      sections.forEach(id=>{
        const el = document.getElementById(id);
        if(el && el.offsetTop <= scrollPos) current = id;
      });
      links.forEach(a=>{
        a.classList.toggle('active', a.getAttribute('href') === '#'+current);
      });
    }
    window.addEventListener('scroll', setActiveNav);

    // MOBILE NAV
    function toggleMobileNav(){
      const nav = $('#mobileNav');
      nav.classList.toggle('open');
    }
    function closeMobileNav(){
      $('#mobileNav').classList.remove('open');
    }

    // WHATSAPP SIMPLE
    function whats(text){
      window.open(`https://wa.me/523336611674?text=${encodeURIComponent(text)}`,'_blank');
    }

    // CAT√ÅLOGO
    const gallery = [
      'images/ram1.jpg','images/ram2.jpg','images/ram3.jpg','images/ram4.jpg',
      'images/ram9.jpg','images/ram10.jpg','images/ram12.jpg','images/ram13.jpg'
    ];
    let gIndex = 0;
    const carMain = $('#car-main');
    const thumbs = $('#thumbs');

    function renderThumbs(){
      thumbs.innerHTML = '';
      gallery.forEach((src,i)=>{
        const im = new Image();
        im.src = src;
        im.alt = 'Trabajo Floralte';
        im.onclick = ()=>{gIndex=i; updateCar();};
        if(i===0) im.classList.add('active');
        thumbs.appendChild(im);
      });
    }
    function updateCar(){
      carMain.src = gallery[gIndex];
      $$('#thumbs img').forEach((t,i)=>t.classList.toggle('active',i===gIndex));
    }
    function carGo(dir){
      gIndex = (gIndex+dir+gallery.length)%gallery.length;
      updateCar();
    }
    renderThumbs();
    updateCar();

    // ========= ARMA TU RAMO (l√≥gica original) =========
    const flores = [
      { id: 'rosa', nombre: 'Rosa', precio: 50,
        colores: ['Roja', 'Rosa', 'Blanca', 'Amarilla', 'Naranja', 'Lila'],
        imagen: 'images/rosroj.jpg',
        imagenesPorColor: {
          'Roja':     'images/rosroj.jpg',
          'Rosa':     'images/rosros.jpg',
          'Blanca':   'images/rosblan.jpg',
          'Amarilla': 'images/rosam.jpg',
          'Naranja':  'images/rosnar.gif',
          'Lila':     'images/roslil.png'
        }
      },
      { id: 'rosaPremium', nombre: 'Rosa Premium', precio: 70,
        colores: ['Acapella'],
        imagen: 'images/rosac.jpg'
      },
      { id: 'girasol', nombre: 'Girasol', precio: 40,
        colores: [], imagen: 'images/gir.jpg'
      },
      { id: 'lili', nombre: 'Lili', precio: 70,
        colores: [], imagen: 'images/lil.jpg'
      },
      { id: 'gerbera', nombre: 'Gerbera', precio: 50,
        colores: ['Rosa', 'Roja', 'Naranja', 'Amarilla', 'Blanca'],
        imagen: 'images/gerros.jpg',
        imagenesPorColor: {
          'Roja':     'images/gerroj.jpg',
          'Rosa':     'images/gerros.jpg',
          'Blanca':   'images/gerblan.jpg',
          'Amarilla': 'images/gerama.jpg',
          'Naranja':  'images/gernar.jpg'
        }
      },
      { id: 'dendrobium', nombre: 'Orqu√≠dea Dendrobium', precio: 80,
        colores: ['Blanco', 'Morado'],
        imagen: 'images/deblan.jpg',
        imagenesPorColor: {
          'Blanco': 'images/deblan.jpg',
          'Morado': 'images/demor.jpg'
        }
      },
      { id: 'cymbidium', nombre: 'Orqu√≠dea Cymbidium', precio: 700,
        colores: ['Amarillo', 'Blanco'],
        imagen: 'images/cymama.jpg',
        imagenesPorColor: {
          'Blanco':   'images/cymblan.jpg',
          'Amarillo': 'images/cymama.jpg'
        }
      },
      { id: 'margarita', nombre: 'Margaritas', precio: 15,
        colores: ['Blanco', 'Amarillo', 'Rojo', 'Lila', 'Naranja', 'Verde'],
        imagen: 'images/marblan.jpg',
        imagenesPorColor: {
          'Blanco':   'images/marblan.jpg',
          'Amarillo': 'images/marama.jpg',
          'Lila':     'images/marlila.jpg',
          'Naranja':  'images/marnar.jpg'
        }
      },
      { id: 'astromelia', nombre: 'Astromelia', precio: 15,
        colores: ['Morado', 'Blanco', 'Rosa'],
        imagen: 'images/asmor.jpg',
        imagenesPorColor: {
          'Morado': 'images/asmor.jpg',
          'Blanco': 'images/asblan.jpg',
          'Rosa':   'images/asros.jpg'
        }
      },
      { id: 'clavel', nombre: 'Clavel', precio: 20,
        colores: ['Rojo', 'Rosa', 'Blanco'],
        imagen: 'images/claroj.jpg',
        imagenesPorColor: {
          'Rojo':   'images/claroj.jpg',
          'Rosa':   'images/claros.jpg',
          'Blanco': 'images/clablan.jpg'
        }
      },
      { id: 'babyrose', nombre: 'Baby Rose', precio: 50,
        colores: ['Rosa', 'Blanco', 'Rojo', 'Amarillo', 'Lila'],
        imagen: 'images/babros.jpg',
        imagenesPorColor: {
          'Rosa':     'images/babros.jpg',
          'Blanco':   'images/bablan.jpg',
          'Rojo':     'images/babroj.jpg',
          'Amarillo': 'images/babama.jpg',
          'Lila':     'images/bablila.jpg'
        }
      },
      { id: 'craspedias', nombre: 'Craspedia', precio: 80,
        colores: [], imagen: 'images/crasp.jpg'
      },
      { id: 'eryngium', nombre: 'Eryngium', precio: 40,
        colores: [], imagen: 'images/eryn.gif'
      },
      { id: 'hypericum', nombre: 'Hypericum', precio: 40,
        colores: [], imagen: 'images/hype.gif'
      },
      { id: 'ornithogalum', nombre: 'Ornithogalum', precio: 100,
        colores: [], imagen: 'images/orni.png'
      },
      { id: 'snapdragon', nombre: 'Snapdragon', precio: 30,
        colores: ['Rosa', 'Blanco', 'Lila'],
        imagen: 'images/snaros.gif',
        imagenesPorColor: {
          'Rosa':   'images/snaros.gif',
          'Blanco': 'images/snablan.gif',
          'Lila':   'images/snalila.gif'
        }
      },
      { id: 'hortensia', nombre: 'Hortensia', precio: 250,
        colores: ['Azul', 'Tinto', 'Morado', 'Lila', 'Rosa'],
        imagen: 'images/horazul.jpg',
        imagenesPorColor: {
          'Azul':  'images/horazul.jpg',
          'Tinto': 'images/hortin.jpg',
          'Lila':  'images/horlila.jpg',
          'Rosa':  'images/horros.jpg'
        }
      },
      { id: 'lisianthus', nombre: 'Lisianthus', precio: 90,
        colores: ['Bicolor', 'Rosa', 'Morado', 'Blanco'],
        imagen: 'images/libi.png',
        imagenesPorColor: {
          'Bicolor': 'images/libi.png',
          'Rosa':    'images/liros.png',
          'Morado':  'images/limor.png',
          'Blanco':  'images/liblan.png'
        }
      },
      { id: 'protea', nombre: 'Protea', precio: 900,
        colores: ['Rosa', 'Blanca'],
        imagen: 'images/proros.gif',
        imagenesPorColor: {
          'Rosa':   'images/proros.gif',
          'Blanca': 'images/problan.jpg'
        }
      }
    ];

    const builderContainer  = document.getElementById('builder-flowers');
    const summaryList       = document.getElementById('summary-list');
    const summaryTotal      = document.getElementById('summary-total');
    const btnClear          = document.getElementById('btn-clear-ramo');
    const btnWhatsapp       = document.getElementById('btn-whatsapp');

    // Overlay
    const ramoOverlay       = document.getElementById('ramo-overlay');
    const ramoOverlayDetail = document.getElementById('ramo-overlay-detail');
    const ramoOverlayBtn    = document.getElementById('ramo-overlay-btn');

    // Preview IA
    const btnPreview        = document.getElementById('btn-preview');
    const previewWrapper    = document.getElementById('preview-wrapper');
    const previewImage      = document.getElementById('preview-image');
    const previewLoading    = document.getElementById('preview-loading');

    let ramo = []; // { id, nombre, color, qty, precioUnit }

    // helper para animaci√≥n +1
    function mostrarAnimacionPlus(boton) {
      const span = document.createElement('span');
      span.className = 'plus-one-pop';
      span.textContent = '+1 üå∏';

      const rect = boton.getBoundingClientRect();
      span.style.left = (rect.left + rect.width / 2) + 'px';
      span.style.top  = (rect.top + window.scrollY) + 'px';

      document.body.appendChild(span);

      setTimeout(() => {
        span.remove();
      }, 650);
    }

    // helper imagen seg√∫n flor + color
    function obtenerImagenFlor(idFlor, color) {
      const flor = flores.find(f => f.id === idFlor);
      if (!flor) return '';
      if (color && flor.imagenesPorColor && flor.imagenesPorColor[color]) {
        return flor.imagenesPorColor[color];
      }
      return flor.imagen || '';
    }

    // Construir tarjetas de flores
    flores.forEach(flor => {
      const card = document.createElement('div');
      card.className = 'flor-card';
      card.dataset.id = flor.id;

      let imagenInicial = flor.imagen || 'images/placeholder.jpg';
      if (flor.colores && flor.colores.length && flor.imagenesPorColor) {
        const colorDefault = flor.colores[0];
        if (flor.imagenesPorColor[colorDefault]) {
          imagenInicial = flor.imagenesPorColor[colorDefault];
        }
      }

      const tieneColores = flor.colores && flor.colores.length;

      card.innerHTML = `
        <div class="flor-header">
          <div class="flor-image-wrap">
            <img class="flor-image" src="${imagenInicial}" alt="${flor.nombre}">
          </div>
          <div>
            <div class="flor-name">${flor.nombre}</div>
            <div class="flor-precio">Desde $${flor.precio} MXN por tallo</div>
          </div>
        </div>
        <div class="flor-controls">
          ${tieneColores ? `
          <div>
            <label>Color</label><br>
            <select class="flor-select">
              ${flor.colores.map(c => `<option value="${c}">${c}</option>`).join('')}
            </select>
          </div>` : ''}
          <div>
            <label>Cantidad</label><br>
            <input class="flor-qty" type="number" min="1" value="1" />
          </div>
          <button class="btn-add" type="button">
            <span>+</span> Agregar
          </button>
        </div>
      `;

      const imgEl   = card.querySelector('.flor-image');
      const select  = card.querySelector('.flor-select');
      const btnAdd  = card.querySelector('.btn-add');

      if (select && flor.imagenesPorColor) {
        const actualizarImagen = () => {
          const color = select.value;
          const srcColor = flor.imagenesPorColor[color];
          imgEl.src = srcColor || imagenInicial;
        };
        select.addEventListener('change', actualizarImagen);
        actualizarImagen();
      }

      btnAdd.addEventListener('click', () => {
        const qtyInput = card.querySelector('.flor-qty');
        const qty = parseInt(qtyInput.value, 10) || 0;
        if (qty <= 0) return;

        const selectColor = card.querySelector('.flor-select');
        const color = selectColor ? selectColor.value : '';

        agregarFlorAlRamo(flor, qty, color);
        qtyInput.value = 1;
        mostrarAnimacionPlus(btnAdd);
      });

      builderContainer.appendChild(card);
    });

    function agregarFlorAlRamo(flor, qty, color) {
      const keyColor = color || '';
      const existing = ramo.find(
        item => item.id === flor.id && item.color === keyColor
      );

      if (existing) {
        existing.qty += qty;
      } else {
        ramo.push({
          id: flor.id,
          nombre: flor.nombre,
          color: keyColor,
          qty,
          precioUnit: flor.precio
        });
      }
      renderRamo();
    }

    function renderRamo() {
      summaryList.innerHTML = '';

      if (ramo.length === 0) {
        summaryList.innerHTML = `
          <div class="summary-empty">
            A√∫n no has agregado flores. Empieza eligiendo una en el panel de la izquierda.
          </div>
        `;
        summaryTotal.textContent = '$0 MXN';

        if (ramoOverlay) ramoOverlay.classList.remove('show');
        if (previewWrapper) previewWrapper.classList.remove('show');
        return;
      }

      let total = 0;
      let totalTallos = 0;

      ramo.forEach((item, index) => {
        const subtotal = item.qty * item.precioUnit;
        total += subtotal;
        totalTallos += item.qty;

        const imgSrc = obtenerImagenFlor(item.id, item.color);

        const row = document.createElement('div');
        row.className = 'summary-item';
        row.innerHTML = `
          <div style="display:flex; align-items:flex-start; gap:8px;">
            ${imgSrc ? `
              <div class="summary-thumb">
                <img src="${imgSrc}" alt="${item.nombre}">
              </div>
            ` : ''}
            <div>
              <strong>${item.nombre}</strong>
              ${item.color ? `<small> ¬∑ ${item.color}</small>` : ''}
              <br>
              <small>${item.qty} tallo(s) x $${item.precioUnit}</small>
            </div>
          </div>
          <div>
            <span>$${subtotal}</span><br>
            <button data-index="${index}" class="btn-remove" type="button" style="border:none;background:none;color:#d14f7b;font-size:11px;cursor:pointer;">
              Eliminar
            </button>
          </div>
        `;
        summaryList.appendChild(row);
      });

      summaryTotal.textContent = '$' + total + ' MXN';

      if (ramoOverlay && ramoOverlayDetail) {
        const textoTallos = totalTallos === 1 ? '1 tallo' : `${totalTallos} tallos`;
        ramoOverlayDetail.textContent = `${textoTallos} ¬∑ Total aprox: $${total} MXN`;
        ramoOverlay.classList.add('show');
      }

      summaryList.querySelectorAll('.btn-remove').forEach(btn => {
        btn.addEventListener('click', () => {
          const idx = parseInt(btn.dataset.index, 10);
          ramo.splice(idx, 1);
          renderRamo();
        });
      });
    }

    // Limpiar ramo completo
    btnClear.addEventListener('click', () => {
      ramo = [];
      renderRamo();
    });

    // Overlay -> ir a secci√≥n de ramo
    if (ramoOverlayBtn) {
      ramoOverlayBtn.addEventListener('click', () => {
        scrollToId('builder');
      });
    }

    // WhatsApp con composici√≥n
    btnWhatsapp.addEventListener('click', () => {
      if (ramo.length === 0) {
        alert('Primero agrega flores a tu ramo üôÇ');
        return;
      }

      let mensaje = 'Hola Floralte, quiero cotizar un ramo personalizado con esta composici√≥n:%0A%0A';

      ramo.forEach(item => {
        const linea = `‚Ä¢ ${item.nombre}${item.color ? ' (' + item.color + ')' : ''}: ${item.qty} tallo(s) x $${item.precioUnit} MXN`;
        mensaje += encodeURIComponent(linea) + '%0A';
      });

      const totalTexto = summaryTotal.textContent;
      mensaje += `%0A${encodeURIComponent('Total aproximado: ' + totalTexto)}%0A%0A`;
      mensaje += encodeURIComponent('Mi nombre es: ');

      const telefono = '523336611674';
      const url = `https://wa.me/${telefono}?text=${mensaje}`;

      window.open(url, '_blank');
    });

    // Preview con IA
    if (btnPreview) {
      btnPreview.addEventListener('click', async () => {
        if (ramo.length === 0) {
          alert('Primero agrega flores a tu ramo para generar un preview üå∏');
          return;
        }

        previewWrapper.classList.add('show');
        previewLoading.style.display = 'block';
        previewImage.style.display = 'none';
        previewLoading.textContent = 'Generando preview a partir de tu selecci√≥n...';

        try {
          const resp = await fetch('https://floralte-backend.onrender.com/api/generar-preview-ramos', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ ramo })
          });

          if (!resp.ok) {
            const errorText = await resp.text();
            console.error('Respuesta no OK del backend:', errorText);
            throw new Error('Error en el servidor');
          }

          const data = await resp.json();

          if (!data.ok || !data.imageUrl) {
            throw new Error('Respuesta sin imagen');
          }

          previewImage.src = data.imageUrl;
          previewLoading.style.display = 'none';
          previewImage.style.display = 'block';

          console.log('Prompt usado en el backend:', data.prompt);
        } catch (error) {
          console.error('Error en preview IA:', error);
          previewLoading.textContent = 'No pudimos generar el preview en este momento. Intenta de nuevo m√°s tarde.';
          alert('Ocurri√≥ un error al generar el preview. Revisa la consola (F12 ‚Üí Console) para m√°s detalles.');
        }
      });
    }

    // EVENTOS ¬∑ fondo grande
    const eventsBg = $('#eventsBg');
    const eventCards = $$('.event');

    function setEventsBg(bg){
      if(!eventsBg) return;
      eventsBg.style.backgroundImage = bg;
      eventsBg.style.opacity = .15;
      eventsBg.style.transform = 'scale(1.02)';
      setTimeout(()=>{eventsBg.style.transform = 'scale(1)';},50);
    }

    if(eventCards.length){
      const firstBg = eventCards[0].style.getPropertyValue('--bg-img');
      setEventsBg(firstBg);
      eventCards[0].classList.add('on');
    }

    eventCards.forEach(el=>{
      const bg = el.style.getPropertyValue('--bg-img');
      el.addEventListener('mouseenter',()=>setEventsBg(bg));
      el.addEventListener('click',()=>{
        eventCards.forEach(e=>e.classList.remove('on'));
        el.classList.add('on');
        setEventsBg(bg);
      });
    });
  </script>
</body>
</html>
